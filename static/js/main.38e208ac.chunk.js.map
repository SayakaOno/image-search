{"version":3,"sources":["testdata/carrotcake.jpg","components/Search.js","components/NavBar.js","components/ImageList.js","api/google.js","components/Loader.js","components/App.js","testdata/data.js","index.js","testdata/chocolatecake.jpg","testdata/lemoncake.jpg","testdata/redvelvetcake.jpg"],"names":["module","exports","__webpack_require__","p","Search","React","forwardRef","props","ref","name","term","onChange","onClick","onKeyDown","react_default","a","createElement","className","type","value","placeholder","NavBar","state","ulWidth","itemCount","getItemsWidth","arrayLike","length","arguments","undefined","listItemArray","Array","from","reduce","sum","current","offsetWidth","renderItems","Children","map","_this","items","item","index","active","selectedIndex","onNavClick","e","target","tagName","onSelect","innerHTML","handleScroll","selectedNav","listItems","document","querySelectorAll","querySelector","getBoundingClientRect","left","scrollLeft","slice","call","indexOf","this","setState","lis","imageListWidth","setTimeout","Math","max","style","width","getUlWidth","Component","ImageList","list","key","src","height","documentElement","clientHeight","onRemove","startNum","onLoadMore","renderMoreButton","google","axios","create","baseURL","url","Loader","text","_this2","loaderId","setInterval","prevState","clearInterval","window","innerHeight","App","image1","image2","image3","image4","requestedName","navItems","imageList","loading","searchButtonRef","createRef","imageListRef","isInputEmpty","handleChange","Object","defineProperty","classNames","onSearchSubmit","_callee","start","_term","response","data","updatedList","_args","regenerator_default","wrap","_context","prev","next","get","params","searchType","q","sent","forEach","push","link","concat","toConsumableArray","arr","t0","alert","stop","handleSubmit","findIndex","handleSelect","handleKeyDown","removeNavItem","min","filter","renderResultComponents","_this$state","Fragment","components_NavBar","components_Loader","components_ImageList","imageframe","top","overflowY","paddingRight","addEventListener","fixResultComponent","removeEventListener","_this$state2","StrictMode","components_Search","ReactDOM","render","components_App","getElementById"],"mappings":"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","file":"static/js/main.38e208ac.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/carrotcake.48a57335.jpg\";","import React from \"react\";\n\nconst Search = React.forwardRef((props, ref) => {\n  const { name, term, onChange, onClick, onKeyDown } = props;\n\n  return (\n    <div className=\"ui input search\">\n      <input\n        name=\"name\"\n        type=\"text\"\n        value={name}\n        onChange={onChange}\n        placeholder=\"restaurant name\"\n      />\n      <input\n        name=\"term\"\n        type=\"text\"\n        value={term}\n        onChange={onChange}\n        onKeyDown={onKeyDown}\n        placeholder=\"menu\"\n      />\n      <button ref={ref} className=\"ui yellow button disabled\" onClick={onClick}>\n        Search\n      </button>\n    </div>\n  );\n});\n\nexport default Search;\n","import React, { Component } from \"react\";\n\nclass NavBar extends Component {\n  state = { ulWidth: 0, itemCount: 0 };\n\n  componentDidMount() {\n    this.setState({ itemCount: this.props.items.length });\n  }\n\n  componentDidUpdate() {\n    if (this.state.itemCount !== this.props.items.length) {\n      this.setState({ itemCount: this.props.items.length });\n    } else {\n      return;\n    }\n    const lis = document.querySelectorAll(\".navbar li\");\n    const ulWidth = this.getItemsWidth(lis);\n    if (this.state.ulWidth !== ulWidth) {\n      this.setState(() => {\n        return { ulWidth };\n      });\n    }\n    if (!lis[this.props.selectedIndex] || this.props.imageListWidth === 0) {\n      return;\n    }\n    const scrollLeft =\n      this.getItemsWidth(lis, this.props.selectedIndex + 1) -\n      this.props.imageListWidth +\n      30;\n    if (scrollLeft > 0) {\n      setTimeout(() => {\n        document.querySelector(\".navbar-container\").scrollLeft = scrollLeft;\n      }, 0);\n    }\n  }\n\n  getItemsWidth = (arrayLike, length = arrayLike.length) => {\n    const listItemArray = Array.from(arrayLike);\n    listItemArray.length = length;\n    const itemsWidth = listItemArray.reduce(\n      (sum, current) => sum + current.offsetWidth,\n      0\n    );\n    return itemsWidth;\n  };\n\n  getUlWidth() {\n    return Math.max(this.props.imageListWidth, this.state.ulWidth + 20);\n  }\n\n  renderItems = () => {\n    return React.Children.map(this.props.items, (item, index) => {\n      let active = index === this.props.selectedIndex ? \" active\" : \"\";\n      return <li className={\"item\" + active}>{item}</li>;\n    });\n  };\n\n  onNavClick = e => {\n    if (e.target.tagName !== \"LI\") return;\n    this.props.onSelect(e.target.innerHTML);\n    this.handleScroll(e.target);\n  };\n\n  handleScroll = selectedNav => {\n    let listItems = document.querySelectorAll(\".navbar li\");\n    if (\n      document.querySelector(\".navbar-container\").getBoundingClientRect().left >\n      selectedNav.getBoundingClientRect().left\n    ) {\n      document.querySelector(\".navbar-container\").scrollLeft =\n        this.getItemsWidth(\n          listItems,\n          [].slice.call(listItems).indexOf(selectedNav)\n        ) - 20;\n    }\n  };\n\n  render() {\n    return this.props.items.length === 0 ? null : (\n      <div className=\"navbar\">\n        <div className=\"navbar-container\">\n          <ul\n            className=\"ui top tabular menu\"\n            onClick={this.onNavClick}\n            style={{\n              width: this.getUlWidth()\n            }}\n          >\n            {this.renderItems()}\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default NavBar;\n","import React, { Component } from \"react\";\n\nconst ImageList = React.forwardRef((props, ref) => {\n  const renderMoreButton = () => {\n    let startNum = props.list.length + 1;\n    if (startNum > 100) return null;\n    return (\n      <button\n        className=\"ui orange basic button\"\n        onClick={() => props.onLoadMore(startNum)}\n      >\n        More\n      </button>\n    );\n  };\n\n  const items = React.Children.map(props.list, (item, index) => {\n    return (\n      <li key={index}>\n        <img src={item} />\n      </li>\n    );\n  });\n\n  return props.list === undefined ? null : (\n    <div\n      ref={ref}\n      className=\"image-list ui bottom attached active tab segment\"\n      style={{\n        height: document.documentElement.clientHeight - 60\n      }}\n    >\n      <i className=\"fas fa-times-circle\" onClick={props.onRemove} />\n      <div\n        className=\"image-frame\"\n        style={{\n          height: document.documentElement.clientHeight - 100\n        }}\n      >\n        <div>\n          <ul className=\"ui small images\">{items}</ul>\n          {renderMoreButton()}\n        </div>\n      </div>\n    </div>\n  );\n});\n\nexport default ImageList;\n","import axios from \"axios\";\n\nconst google = axios.create({\n  baseURL: \"https://www.googleapis.com\"\n});\n\nconst url =\n  // \"customsearch/v1?key=AIzaSyDEKjJgTJu-A2sYRnbzBwc74N93NTeRe8Q&cx=017292147882044979880:bz3csnf9fsw\";\n  // \"customsearch/v1?key=AIzaSyCWeJilGYGTyLLWuKPDIH7sBvZHvLC_KPw&cx=011995211852339458589:b6dd5lshhny\";\n  \"customsearch/v1?key=AIzaSyAXRSgcZq3L6xxBwPVtJFIKtcK8tvER13g&cx=011995211852339458589:-vcn1myonvo\";\n// \"customsearch/v1?key=AIzaSyCWeJilGYGTyLLWuKPDIH7sBvZHvLC_KPw&cx=006516764599415151560:h3y5ondgtqi\";\n\nexport { google, url };\n","import React from \"react\";\n\nclass Loader extends React.Component {\n  state = { text: \"Loading\" };\n\n  componentDidMount() {\n    this.loaderId = setInterval(() => {\n      this.state.text === \"Loading...\"\n        ? this.setState({ text: \"Loading\" })\n        : this.setState(prevState => {\n            return { text: prevState.text + \".\" };\n          });\n    }, 300);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.loaderId);\n  }\n\n  render() {\n    return (\n      <div\n        className=\"loader-frame ui segment\"\n        style={{\n          height: window.innerHeight - 40\n        }}\n      >\n        <div className=\"ui active inverted dimmer\">\n          <div className=\"ui text loader\">{this.state.text}</div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Loader;\n","import React, { Component } from \"react\";\nimport Search from \"./Search\";\nimport NavBar from \"./NavBar\";\nimport ImageList from \"./ImageList\";\nimport { google, url } from \"../api/google\";\nimport Loader from \"./Loader\";\nimport testdata from \"../testdata/data\";\n\nclass App extends Component {\n  state = {\n    name: \"\",\n    term: \"\",\n    requestedName: \"\",\n    selectedIndex: 0,\n    navItems: [],\n    imageList: [],\n    imageListWidth: 0,\n    loading: false\n  };\n\n  //for test\n  // componentDidMount() {\n  //   this.setState(testdata);\n  // }\n  fixResultComponent() {\n    const imageframe = document.querySelector(\".image-frame\");\n    if (document.querySelector(\".navbar\").getBoundingClientRect().top > 10) {\n      imageframe.style.overflowY = \"hidden\";\n      imageframe.style.paddingRight = \"10px\";\n    } else {\n      imageframe.style.overflowY = \"scroll\";\n      imageframe.style.paddingRight = 0;\n    }\n  }\n\n  componentDidMount() {\n    window.addEventListener(\"scroll\", this.fixResultComponent);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"scroll\", this.fixResultComponent);\n  }\n\n  componentDidUpdate() {\n    if (!this.imageListRef.current) {\n      return;\n    }\n    if (this.state.imageListWidth !== this.imageListRef.current.offsetWidth) {\n      this.setState({ imageListWidth: this.imageListRef.current.offsetWidth });\n    }\n  }\n\n  searchButtonRef = React.createRef();\n  imageListRef = React.createRef();\n\n  isInputEmpty = () => {\n    return !this.state.term;\n  };\n\n  handleChange = e => {\n    this.setState({ [e.target.name]: e.target.value });\n    const classNames = \"ui yellow button\";\n    setTimeout(() => {\n      this.state.name || this.state.term\n        ? (this.searchButtonRef.current.className = classNames)\n        : (this.searchButtonRef.current.className = classNames + \" disabled\");\n    }, 0);\n  };\n\n  onSearchSubmit = async (start = 1) => {\n    this.setState({ loading: true });\n    const term = this.state.term;\n    try {\n      // for load more\n      const term = this.state.term\n        ? this.state.term\n        : this.state.navItems[this.state.selectedIndex];\n      const response = await google.get(url, {\n        params: {\n          searchType: \"image\",\n          q: this.state.name + \"+\" + term,\n          start: start\n          //TODO: gl:\n        }\n      });\n      let data = response.data.items;\n      let imageList = [];\n      let selectedIndex = this.state.selectedIndex;\n\n      if (start === 1) {\n        imageList = [];\n        data.forEach(item => {\n          imageList.push(item.link);\n        });\n        imageList = [...this.state.imageList, imageList];\n        selectedIndex = this.state.imageList.length;\n      } else {\n        const updatedList = this.state.imageList[\n          this.state.selectedIndex\n        ].slice();\n        data.forEach(item => {\n          updatedList.push(item.link);\n        });\n        imageList = this.state.imageList.map(function(arr) {\n          return arr.slice();\n        });\n        imageList[this.state.selectedIndex] = updatedList;\n      }\n      this.setState(prevState => {\n        let navItems = [...prevState.navItems];\n        navItems.push(this.state.term);\n        return {\n          term: \"\",\n          navItems,\n          selectedIndex,\n          imageList,\n          requestedName: this.state.name,\n          loading: false\n        };\n      });\n    } catch (e) {\n      this.setState({ loading: false, term: \"\" });\n      setTimeout(\n        () =>\n          alert(\n            `I am sorry but something went wrong... :(\\nPlease ask your server what \"${term}\" is.`\n          ),\n        100\n      );\n    }\n  };\n\n  handleSubmit = () => {\n    if (this.isInputEmpty()) {\n      alert(\"Please enter menu!\");\n      return;\n    }\n    const selectedIndex = this.state.navItems.findIndex(\n      item => item === this.state.term\n    );\n    if (selectedIndex !== -1) {\n      this.setState({ selectedIndex, term: \"\" });\n      return;\n    }\n\n    if (this.state.requestedName !== this.state.name) {\n      this.setState({ navItems: [], imageList: [] });\n    }\n    this.onSearchSubmit();\n  };\n\n  handleSelect = item => {\n    const index = this.state.navItems.indexOf(item);\n    this.setState({ selectedIndex: index });\n  };\n\n  // shouldn't work when Japanese typed\n  handleKeyDown = e => {\n    if (e.key !== \"Enter\") {\n      return;\n    }\n    this.handleSubmit();\n  };\n\n  removeNavItem = () => {\n    const selectedIndex = Math.min(\n      this.state.navItems.length - 2,\n      this.state.selectedIndex\n    );\n    this.setState(prevState => {\n      return {\n        navItems: prevState.navItems.filter((item, index) => {\n          return this.state.selectedIndex !== index;\n        }),\n        imageList: prevState.imageList.filter((item, index) => {\n          return this.state.selectedIndex !== index;\n        }),\n        selectedIndex\n      };\n    });\n  };\n\n  renderResultComponents = () => {\n    const { navItems, selectedIndex, imageList } = this.state;\n    return (\n      <React.Fragment>\n        <NavBar\n          items={navItems}\n          onSelect={this.handleSelect}\n          selectedIndex={selectedIndex}\n          imageListWidth={this.state.imageListWidth}\n        />\n        {this.state.loading ? (\n          <Loader />\n        ) : (\n          <ImageList\n            ref={this.imageListRef}\n            list={imageList[selectedIndex]}\n            onRemove={this.removeNavItem}\n            onLoadMore={this.onSearchSubmit}\n          />\n        )}\n      </React.Fragment>\n    );\n  };\n\n  render() {\n    const { name, term } = this.state;\n    return (\n      <main>\n        <React.StrictMode>\n          <Search\n            ref={this.searchButtonRef}\n            name={name}\n            term={term}\n            onChange={this.handleChange}\n            onClick={this.handleSubmit}\n            onKeyDown={this.handleKeyDown}\n          />\n          {this.renderResultComponents()}\n        </React.StrictMode>\n      </main>\n    );\n  }\n}\n\nexport default App;\n","import image1 from \"./chocolatecake.jpg\";\nimport image2 from \"./lemoncake.jpg\";\nimport image3 from \"./redvelvetcake.jpg\";\nimport image4 from \"./carrotcake.jpg\";\n\nexport default {\n  navItems: [\"chocolate cake\", \"lemon cake\", \"red velvet cake\", \"carrot cake\"],\n  imageList: [\n    [image1, image1, image1],\n    [image2, image2, image2],\n    [image3, image3, image3],\n    [image4, image4, image4]\n  ]\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport \"./styles.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","module.exports = __webpack_public_path__ + \"static/media/chocolatecake.7b396a06.jpg\";","module.exports = __webpack_public_path__ + \"static/media/lemoncake.395df99b.jpg\";","module.exports = __webpack_public_path__ + \"static/media/redvelvetcake.2fc34d65.jpg\";"],"sourceRoot":""}