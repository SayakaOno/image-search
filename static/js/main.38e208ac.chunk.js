(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){e.exports=n.p+"static/media/carrotcake.48a57335.jpg"},24:function(e,t,n){e.exports=n(53)},51:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(20),s=n.n(r),c=n(12),o=n.n(c),l=n(13),m=n(21),u=n(22),d=n(2),h=n(3),f=n(5),g=n(4),v=n(6),p=i.a.forwardRef(function(e,t){var n=e.name,a=e.term,r=e.onChange,s=e.onClick,c=e.onKeyDown;return i.a.createElement("div",{className:"ui input search"},i.a.createElement("input",{name:"name",type:"text",value:n,onChange:r,placeholder:"restaurant name"}),i.a.createElement("input",{name:"term",type:"text",value:a,onChange:r,onKeyDown:c,placeholder:"menu"}),i.a.createElement("button",{ref:t,className:"ui yellow button disabled",onClick:s},"Search"))}),y=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(f.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={ulWidth:0,itemCount:0},n.getItemsWidth=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=Array.from(e);return n.length=t,n.reduce(function(e,t){return e+t.offsetWidth},0)},n.renderItems=function(){return i.a.Children.map(n.props.items,function(e,t){var a=t===n.props.selectedIndex?" active":"";return i.a.createElement("li",{className:"item"+a},e)})},n.onNavClick=function(e){"LI"===e.target.tagName&&(n.props.onSelect(e.target.innerHTML),n.handleScroll(e.target))},n.handleScroll=function(e){var t=document.querySelectorAll(".navbar li");document.querySelector(".navbar-container").getBoundingClientRect().left>e.getBoundingClientRect().left&&(document.querySelector(".navbar-container").scrollLeft=n.getItemsWidth(t,[].slice.call(t).indexOf(e))-20)},n}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.setState({itemCount:this.props.items.length})}},{key:"componentDidUpdate",value:function(){if(this.state.itemCount!==this.props.items.length){this.setState({itemCount:this.props.items.length});var e=document.querySelectorAll(".navbar li"),t=this.getItemsWidth(e);if(this.state.ulWidth!==t&&this.setState(function(){return{ulWidth:t}}),e[this.props.selectedIndex]&&0!==this.props.imageListWidth){var n=this.getItemsWidth(e,this.props.selectedIndex+1)-this.props.imageListWidth+30;n>0&&setTimeout(function(){document.querySelector(".navbar-container").scrollLeft=n},0)}}}},{key:"getUlWidth",value:function(){return Math.max(this.props.imageListWidth,this.state.ulWidth+20)}},{key:"render",value:function(){return 0===this.props.items.length?null:i.a.createElement("div",{className:"navbar"},i.a.createElement("div",{className:"navbar-container"},i.a.createElement("ul",{className:"ui top tabular menu",onClick:this.onNavClick,style:{width:this.getUlWidth()}},this.renderItems())))}}]),t}(a.Component),b=i.a.forwardRef(function(e,t){var n=i.a.Children.map(e.list,function(e,t){return i.a.createElement("li",{key:t},i.a.createElement("img",{src:e}))});return void 0===e.list?null:i.a.createElement("div",{ref:t,className:"image-list ui bottom attached active tab segment",style:{height:document.documentElement.clientHeight-60}},i.a.createElement("i",{className:"fas fa-times-circle",onClick:e.onRemove}),i.a.createElement("div",{className:"image-frame",style:{height:document.documentElement.clientHeight-100}},i.a.createElement("div",null,i.a.createElement("ul",{className:"ui small images"},n),function(){var t=e.list.length+1;return t>100?null:i.a.createElement("button",{className:"ui orange basic button",onClick:function(){return e.onLoadMore(t)}},"More")}())))}),I=n(23),x=n.n(I).a.create({baseURL:"https://www.googleapis.com"}),S="customsearch/v1?key=AIzaSyAXRSgcZq3L6xxBwPVtJFIKtcK8tvER13g&cx=011995211852339458589:-vcn1myonvo",E=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(f.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(i)))).state={text:"Loading"},n}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.loaderId=setInterval(function(){"Loading..."===e.state.text?e.setState({text:"Loading"}):e.setState(function(e){return{text:e.text+"."}})},300)}},{key:"componentWillUnmount",value:function(){clearInterval(this.loaderId)}},{key:"render",value:function(){return i.a.createElement("div",{className:"loader-frame ui segment",style:{height:window.innerHeight-40}},i.a.createElement("div",{className:"ui active inverted dimmer"},i.a.createElement("div",{className:"ui text loader"},this.state.text)))}}]),t}(i.a.Component),w=n(7),L=n.n(w),k=n(8),C=n.n(k),R=n(9),N=n.n(R),j=n(10),W=n.n(j),O=(L.a,L.a,L.a,C.a,C.a,C.a,N.a,N.a,N.a,W.a,W.a,W.a,function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(f.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",term:"",requestedName:"",selectedIndex:0,navItems:[],imageList:[],imageListWidth:0,loading:!1},n.searchButtonRef=i.a.createRef(),n.imageListRef=i.a.createRef(),n.isInputEmpty=function(){return!n.state.term},n.handleChange=function(e){n.setState(Object(u.a)({},e.target.name,e.target.value));setTimeout(function(){n.state.name||n.state.term?n.searchButtonRef.current.className="ui yellow button":n.searchButtonRef.current.className="ui yellow button disabled"},0)},n.onSearchSubmit=Object(m.a)(o.a.mark(function e(){var t,a,i,r,s,c,m,u,d=arguments;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:1,n.setState({loading:!0}),a=n.state.term,e.prev=3,i=n.state.term?n.state.term:n.state.navItems[n.state.selectedIndex],e.next=7,x.get(S,{params:{searchType:"image",q:n.state.name+"+"+i,start:t}});case 7:r=e.sent,s=r.data.items,c=[],m=n.state.selectedIndex,1===t?(c=[],s.forEach(function(e){c.push(e.link)}),c=[].concat(Object(l.a)(n.state.imageList),[c]),m=n.state.imageList.length):(u=n.state.imageList[n.state.selectedIndex].slice(),s.forEach(function(e){u.push(e.link)}),(c=n.state.imageList.map(function(e){return e.slice()}))[n.state.selectedIndex]=u),n.setState(function(e){var t=Object(l.a)(e.navItems);return t.push(n.state.term),{term:"",navItems:t,selectedIndex:m,imageList:c,requestedName:n.state.name,loading:!1}}),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),n.setState({loading:!1,term:""}),setTimeout(function(){return alert('I am sorry but something went wrong... :(\nPlease ask your server what "'.concat(a,'" is.'))},100);case 19:case"end":return e.stop()}},e,this,[[3,15]])})),n.handleSubmit=function(){if(n.isInputEmpty())alert("Please enter menu!");else{var e=n.state.navItems.findIndex(function(e){return e===n.state.term});-1===e?(n.state.requestedName!==n.state.name&&n.setState({navItems:[],imageList:[]}),n.onSearchSubmit()):n.setState({selectedIndex:e,term:""})}},n.handleSelect=function(e){var t=n.state.navItems.indexOf(e);n.setState({selectedIndex:t})},n.handleKeyDown=function(e){"Enter"===e.key&&n.handleSubmit()},n.removeNavItem=function(){var e=Math.min(n.state.navItems.length-2,n.state.selectedIndex);n.setState(function(t){return{navItems:t.navItems.filter(function(e,t){return n.state.selectedIndex!==t}),imageList:t.imageList.filter(function(e,t){return n.state.selectedIndex!==t}),selectedIndex:e}})},n.renderResultComponents=function(){var e=n.state,t=e.navItems,a=e.selectedIndex,r=e.imageList;return i.a.createElement(i.a.Fragment,null,i.a.createElement(y,{items:t,onSelect:n.handleSelect,selectedIndex:a,imageListWidth:n.state.imageListWidth}),n.state.loading?i.a.createElement(E,null):i.a.createElement(b,{ref:n.imageListRef,list:r[a],onRemove:n.removeNavItem,onLoadMore:n.onSearchSubmit}))},n}return Object(v.a)(t,e),Object(h.a)(t,[{key:"fixResultComponent",value:function(){var e=document.querySelector(".image-frame");document.querySelector(".navbar").getBoundingClientRect().top>10?(e.style.overflowY="hidden",e.style.paddingRight="10px"):(e.style.overflowY="scroll",e.style.paddingRight=0)}},{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.fixResultComponent)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.fixResultComponent)}},{key:"componentDidUpdate",value:function(){this.imageListRef.current&&this.state.imageListWidth!==this.imageListRef.current.offsetWidth&&this.setState({imageListWidth:this.imageListRef.current.offsetWidth})}},{key:"render",value:function(){var e=this.state,t=e.name,n=e.term;return i.a.createElement("main",null,i.a.createElement(i.a.StrictMode,null,i.a.createElement(p,{ref:this.searchButtonRef,name:t,term:n,onChange:this.handleChange,onClick:this.handleSubmit,onKeyDown:this.handleKeyDown}),this.renderResultComponents()))}}]),t}(a.Component));n(51);s.a.render(i.a.createElement(O,null),document.getElementById("root"))},7:function(e,t,n){e.exports=n.p+"static/media/chocolatecake.7b396a06.jpg"},8:function(e,t,n){e.exports=n.p+"static/media/lemoncake.395df99b.jpg"},9:function(e,t,n){e.exports=n.p+"static/media/redvelvetcake.2fc34d65.jpg"}},[[24,2,1]]]);
//# sourceMappingURL=main.38e208ac.chunk.js.map