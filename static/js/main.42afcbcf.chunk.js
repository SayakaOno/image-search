(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a.p+"static/media/carrotcake.48a57335.jpg"},24:function(e,t,a){e.exports=a(53)},51:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(20),s=a.n(r),c=a(12),o=a.n(c),l=a(13),m=a(21),u=a(22),d=a(2),h=a(3),f=a(5),g=a(4),v=a(6),p=i.a.forwardRef(function(e,t){var a=e.name,n=e.term,r=e.onChange,s=e.onClick,c=e.onKeyDown;return i.a.createElement("div",{className:"ui input search"},i.a.createElement("input",{name:"name",type:"text",value:a,onChange:r,placeholder:"restaurant name"}),i.a.createElement("input",{name:"term",type:"text",value:n,onChange:r,onKeyDown:c,placeholder:"menu"}),i.a.createElement("button",{ref:t,className:"ui yellow button disabled",onClick:s},"Search"))}),b=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(f.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={ulWidth:0,itemCount:0},a.getItemsWidth=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,a=Array.from(e);return a.length=t,a.reduce(function(e,t){return e+t.offsetWidth},0)},a.renderItems=function(){return i.a.Children.map(a.props.items,function(e,t){var n=t===a.props.selectedIndex?" active":"";return i.a.createElement("li",{className:"item"+n},e)})},a.onNavClick=function(e){"LI"===e.target.tagName&&(a.props.onSelect(e.target.innerHTML),a.handleScroll(e.target))},a.handleScroll=function(e){var t=document.querySelectorAll(".navbar li");document.querySelector(".navbar-container").getBoundingClientRect().left>e.getBoundingClientRect().left&&(document.querySelector(".navbar-container").scrollLeft=a.getItemsWidth(t,[].slice.call(t).indexOf(e))-20)},a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.setState({itemCount:this.props.items.length})}},{key:"componentDidUpdate",value:function(){if(this.state.itemCount!==this.props.items.length){this.setState({itemCount:this.props.items.length});var e=document.querySelectorAll(".navbar li"),t=this.getItemsWidth(e);if(this.state.ulWidth!==t&&this.setState(function(){return{ulWidth:t}}),e[this.props.selectedIndex]&&0!==this.props.imageListWidth){var a=this.getItemsWidth(e,this.props.selectedIndex+1)-this.props.imageListWidth+30;a>0&&setTimeout(function(){document.querySelector(".navbar-container").scrollLeft=a},0)}}}},{key:"getUlWidth",value:function(){return Math.max(this.props.imageListWidth,this.state.ulWidth+20)}},{key:"render",value:function(){return 0===this.props.items.length?null:i.a.createElement("div",{className:"navbar"},i.a.createElement("div",{className:"navbar-container"},i.a.createElement("ul",{className:"ui top tabular menu",onClick:this.onNavClick,style:{width:this.getUlWidth()}},this.renderItems())))}}]),t}(n.Component),I=i.a.forwardRef(function(e,t){var a=i.a.Children.map(e.list,function(e,t){return i.a.createElement("li",{key:t},i.a.createElement("img",{src:e}))});return void 0===e.list?null:i.a.createElement("div",{ref:t,className:"image-list ui bottom attached active tab segment"},i.a.createElement("i",{className:"fas fa-times-circle",onClick:e.onRemove}),i.a.createElement("div",{className:"image-frame"},i.a.createElement("div",null,i.a.createElement("ul",{className:"ui small images"},a),function(){var t=e.list.length+1;return t>100?null:i.a.createElement("button",{className:"ui orange basic button",onClick:function(){return e.onLoadMore(t)}},"More")}())))}),y=a(23),x=a.n(y).a.create({baseURL:"https://www.googleapis.com"}),S="customsearch/v1?key=AIzaSyAXRSgcZq3L6xxBwPVtJFIKtcK8tvER13g&cx=011995211852339458589:-vcn1myonvo",E=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(i)))).state={text:"Loading"},a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.loaderId=setInterval(function(){"Loading..."===e.state.text?e.setState({text:"Loading"}):e.setState(function(e){return{text:e.text+"."}})},300)}},{key:"componentWillUnmount",value:function(){clearInterval(this.loaderId)}},{key:"render",value:function(){return i.a.createElement("div",{className:"loader-frame ui segment",style:{height:window.innerHeight-40}},i.a.createElement("div",{className:"ui active inverted dimmer"},i.a.createElement("div",{className:"ui text loader"},this.state.text)))}}]),t}(i.a.Component),L=a(7),k=a.n(L),w=a(8),C=a.n(w),N=a(9),j=a.n(N),R=a(10),W=a.n(R),O=(k.a,k.a,k.a,C.a,C.a,C.a,j.a,j.a,j.a,W.a,W.a,W.a,function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(f.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",term:"",requestedName:"",selectedIndex:0,navItems:[],imageList:[],imageListWidth:0,loading:!1},a.searchButtonRef=i.a.createRef(),a.imageListRef=i.a.createRef(),a.isInputEmpty=function(){return!a.state.term},a.handleChange=function(e){a.setState(Object(u.a)({},e.target.name,e.target.value));setTimeout(function(){a.state.name||a.state.term?a.searchButtonRef.current.className="ui yellow button":a.searchButtonRef.current.className="ui yellow button disabled"},0)},a.onSearchSubmit=Object(m.a)(o.a.mark(function e(){var t,n,i,r,s,c,m,u,d=arguments;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:1,a.setState({loading:!0}),n=a.state.term,e.prev=3,i=a.state.term?a.state.term:a.state.navItems[a.state.selectedIndex],e.next=7,x.get(S,{params:{searchType:"image",q:a.state.name+"+"+i,start:t}});case 7:r=e.sent,s=r.data.items,c=[],m=a.state.selectedIndex,1===t?(c=[],s.forEach(function(e){c.push(e.link)}),c=[].concat(Object(l.a)(a.state.imageList),[c]),m=a.state.imageList.length):(u=a.state.imageList[a.state.selectedIndex].slice(),s.forEach(function(e){u.push(e.link)}),(c=a.state.imageList.map(function(e){return e.slice()}))[a.state.selectedIndex]=u),a.setState(function(e){var t=Object(l.a)(e.navItems);return t.push(a.state.term),{term:"",navItems:t,selectedIndex:m,imageList:c,requestedName:a.state.name,loading:!1}}),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),a.setState({loading:!1,term:""}),setTimeout(function(){return alert('I am sorry but something went wrong... :(\nPlease ask your server what "'.concat(n,'" is.'))},100);case 19:case"end":return e.stop()}},e,this,[[3,15]])})),a.handleSubmit=function(){if(a.isInputEmpty())alert("Please enter menu!");else{var e=a.state.navItems.findIndex(function(e){return e===a.state.term});-1===e?(a.state.requestedName!==a.state.name&&a.setState({navItems:[],imageList:[]}),a.onSearchSubmit()):a.setState({selectedIndex:e,term:""})}},a.handleSelect=function(e){var t=a.state.navItems.indexOf(e);a.setState({selectedIndex:t})},a.handleKeyDown=function(e){"Enter"===e.key&&a.handleSubmit()},a.removeNavItem=function(){var e=Math.min(a.state.navItems.length-2,a.state.selectedIndex);a.setState(function(t){return{navItems:t.navItems.filter(function(e,t){return a.state.selectedIndex!==t}),imageList:t.imageList.filter(function(e,t){return a.state.selectedIndex!==t}),selectedIndex:e}})},a.renderResultComponents=function(){var e=a.state,t=e.navItems,n=e.selectedIndex,r=e.imageList;return i.a.createElement(i.a.Fragment,null,i.a.createElement(b,{items:t,onSelect:a.handleSelect,selectedIndex:n,imageListWidth:a.state.imageListWidth}),a.state.loading?i.a.createElement(E,null):i.a.createElement(I,{ref:a.imageListRef,list:r[n],onRemove:a.removeNavItem,onLoadMore:a.onSearchSubmit}))},a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidUpdate",value:function(){this.imageListRef.current&&this.state.imageListWidth!==this.imageListRef.current.offsetWidth&&this.setState({imageListWidth:this.imageListRef.current.offsetWidth})}},{key:"render",value:function(){var e=this.state,t=e.name,a=e.term;return i.a.createElement("main",null,i.a.createElement(i.a.StrictMode,null,i.a.createElement(p,{ref:this.searchButtonRef,name:t,term:a,onChange:this.handleChange,onClick:this.handleSubmit,onKeyDown:this.handleKeyDown}),this.renderResultComponents()))}}]),t}(n.Component));a(51);s.a.render(i.a.createElement(O,null),document.getElementById("root"))},7:function(e,t,a){e.exports=a.p+"static/media/chocolatecake.7b396a06.jpg"},8:function(e,t,a){e.exports=a.p+"static/media/lemoncake.395df99b.jpg"},9:function(e,t,a){e.exports=a.p+"static/media/redvelvetcake.2fc34d65.jpg"}},[[24,2,1]]]);
//# sourceMappingURL=main.42afcbcf.chunk.js.map