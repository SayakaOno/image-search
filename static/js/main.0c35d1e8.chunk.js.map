{"version":3,"sources":["testdata/carrotcake.jpg","components/Search.js","components/NavBar.js","components/ImageCard.js","components/ImageList.js","api/google.js","components/Loader.js","components/App.js","testdata/data.js","index.js","testdata/chocolatecake.jpg","testdata/lemoncake.jpg","testdata/redvelvetcake.jpg"],"names":["module","exports","__webpack_require__","p","Search","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","nameInput","React","createRef","current","focus","_this$props","name","term","onChange","onKeyDown","react_default","a","createElement","className","ref","type","value","placeholder","Component","NavBar","getItemsWidth","arrayLike","length","arguments","undefined","listItemArray","Array","from","reduce","sum","offsetWidth","renderItems","images","map","item","index","active","selectedIndex","key","onNavClick","e","target","tagName","onSelect","innerHTML","handleScroll","selectedNav","listItems","document","querySelectorAll","navbarContainer","querySelector","getBoundingClientRect","left","scrollLeft","slice","indexOf","right","state","ulWidth","imageListWidth","ulRef","setState","lis","style","width","getUlWidth","setTimeout","Math","max","onClick","onRemove","ImageCard","setSpans","height","imageRef","clientHeight","spans","ceil","err","console","log","addEventListener","window","removeEventListener","_this$props$image","image","title","link","gridRowEnd","concat","alt","src","ImageList","forwardRef","list","components_ImageCard","inedex","startNum","onLoadMore","renderMoreButton","google","axios","create","baseURL","url","Loader","text","_this2","loaderId","setInterval","prevState","clearInterval","innerHeight","App","image1","image2","image3","image4","setImageListWidth","imageListRef","isInputEmpty","handleChange","defineProperty","searchButtonRef","classNames","onSearchSubmit","asyncToGenerator","regenerator_default","mark","_callee","start","response","data","newImage","updatedImages","_args","wrap","_context","prev","next","loading","get","params","searchType","q","sent","items","Error","abrupt","requestedName","t0","alert","stop","handleSubmit","findIndex","handleSelect","handleKeyDown","removeNavItem","min","filter","renderResultComponents","_this$state","Fragment","components_NavBar","components_Loader","components_ImageList","screenHeight","imageList","documentElement","scrollHeight","pageYOffset","offsetHeight","overflowY","fixResultComponent","_this$state2","StrictMode","components_Search","ReactDOM","render","components_App","getElementById"],"mappings":"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","file":"static/js/main.0c35d1e8.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/carrotcake.48a57335.jpg\";","import React from \"react\";\n\nclass Search extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.nameInput = React.createRef();\n  }\n\n  componentDidMount() {\n    this.nameInput.current.focus();\n  }\n\n  render() {\n    const { name, term, onChange, onKeyDown } = this.props;\n    return (\n      <div className=\"ui input search\">\n        <input\n          ref={this.nameInput}\n          name=\"name\"\n          type=\"text\"\n          value={name}\n          onChange={onChange}\n          placeholder=\"restaurant name\"\n        />\n        <input\n          name=\"term\"\n          type=\"text\"\n          value={term}\n          onChange={onChange}\n          onKeyDown={onKeyDown}\n          placeholder=\"menu\"\n        />\n      </div>\n    );\n  }\n}\n\nexport default Search;\n","import React, { Component } from \"react\";\n\nclass NavBar extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { ulWidth: 0, imageListWidth: 0 };\n    this.ulRef = React.createRef();\n  }\n\n  componentDidMount() {\n    this.setState({ imageListWidth: this.props.imageListWidth });\n  }\n\n  componentDidUpdate() {\n    if (!this.ulRef.current || !this.props.imageListWidth) {\n      return;\n    }\n    if (this.state.imageListWidth !== this.props.imageListWidth) {\n      this.setState({ imageListWidth: this.props.imageListWidth });\n    }\n    const lis = document.querySelectorAll(\".navbar li\");\n    const ulWidth = this.getItemsWidth(lis);\n    if (this.state.ulWidth !== ulWidth) {\n      this.setState(() => {\n        return { ulWidth };\n      });\n    }\n    this.ulRef.current.style.width = this.getUlWidth(ulWidth) + \"px\";\n    if (!lis[this.props.selectedIndex] || this.props.imageListWidth === 0) {\n      return;\n    }\n    const scrollLeft =\n      this.getItemsWidth(lis, this.props.selectedIndex + 1) -\n      this.props.imageListWidth +\n      30;\n    if (scrollLeft > 0) {\n      setTimeout(() => {\n        document.querySelector(\".navbar-container\").scrollLeft = scrollLeft;\n      }, 0);\n    }\n  }\n\n  getItemsWidth = (arrayLike, length = arrayLike.length) => {\n    const listItemArray = Array.from(arrayLike);\n    listItemArray.length = length;\n    const itemsWidth = listItemArray.reduce(\n      (sum, current) => sum + current.offsetWidth,\n      0\n    );\n    return itemsWidth;\n  };\n\n  getUlWidth(ulWidth = this.state.ulWidth) {\n    return Math.max(this.props.imageListWidth, ulWidth + 25);\n  }\n\n  renderItems = () => {\n    return this.props.images.map((item, index) => {\n      let active = index === this.props.selectedIndex ? \" active\" : \"\";\n      return (\n        <li className={\"item\" + active} key={item[0].term}>\n          {item[0].term}\n        </li>\n      );\n    });\n  };\n\n  onNavClick = e => {\n    if (e.target.tagName !== \"LI\") return;\n    this.props.onSelect(e.target.innerHTML);\n    this.handleScroll(e.target);\n  };\n\n  handleScroll = selectedNav => {\n    let listItems = document.querySelectorAll(\".navbar li\");\n    let navbarContainer = document.querySelector(\".navbar-container\");\n    if (\n      navbarContainer.getBoundingClientRect().left >\n      selectedNav.getBoundingClientRect().left\n    ) {\n      navbarContainer.scrollLeft =\n        this.getItemsWidth(\n          listItems,\n          [].slice.call(listItems).indexOf(selectedNav)\n        ) - 20;\n    } else if (\n      navbarContainer.getBoundingClientRect().right <\n      selectedNav.getBoundingClientRect().right\n    ) {\n      navbarContainer.scrollLeft = this.getItemsWidth(\n        listItems,\n        [].slice.call(listItems).indexOf(selectedNav)\n      );\n    }\n  };\n\n  render() {\n    return this.props.images.length === 0 ? null : (\n      <div className=\"navbar\">\n        <div className=\"navbar-container\">\n          <ul\n            ref={this.ulRef}\n            className=\"ui top tabular menu\"\n            onClick={this.onNavClick}\n          >\n            {this.renderItems()}\n          </ul>\n        </div>\n        <i className=\"fas fa-times-circle\" onClick={this.props.onRemove} />\n      </div>\n    );\n  }\n}\n\nexport default NavBar;\n","import React from \"react\";\n\nclass ImageCard extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { spans: 0 };\n\n    this.imageRef = React.createRef();\n  }\n\n  componentDidMount() {\n    this.imageRef.current.addEventListener(\"load\", this.setSpans);\n    window.addEventListener(\"resize\", this.setSpans);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"resize\", this.setSpans);\n  }\n\n  setSpans = () => {\n    try {\n      const height = this.imageRef.current.clientHeight;\n\n      const spans = Math.ceil(height / 10);\n\n      this.setState({ spans });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  render() {\n    const { title, link } = this.props.image;\n\n    return (\n      <li style={{ gridRowEnd: `span ${this.state.spans}` }}>\n        <img ref={this.imageRef} alt={title} src={link} />\n      </li>\n    );\n  }\n}\n\nexport default ImageCard;\n","import React from \"react\";\nimport ImageCard from \"./ImageCard\";\n\nconst ImageList = React.forwardRef((props, ref) => {\n  const renderMoreButton = () => {\n    let startNum = props.images[0].list.length + 1;\n    if (startNum > 100) return null;\n    return (\n      <button\n        className=\"ui orange basic button\"\n        onClick={() => props.onLoadMore(startNum)}\n      >\n        More\n      </button>\n    );\n  };\n\n  const images = props.images\n    ? props.images[0].list.map((image, index) => {\n        return (\n          <ImageCard\n            image={image}\n            inedex={index}\n            key={image.title.slice(0, 6) + index}\n          />\n        );\n      })\n    : null;\n\n  return props.images === undefined ? null : (\n    <div\n      ref={ref}\n      className=\"image-list ui bottom attached active tab segment\"\n      style={{ height: props.height }}\n    >\n      <div className=\"image-frame\">\n        <div>\n          <ul className=\"ui images image-ul\">{images}</ul>\n          {renderMoreButton()}\n        </div>\n      </div>\n    </div>\n  );\n});\n\nexport default ImageList;\n","import axios from \"axios\";\n\nconst google = axios.create({\n  baseURL: \"https://www.googleapis.com\"\n});\n\nconst url =\n  // \"customsearch/v1?key=AIzaSyDVuJJLMfuMBBS5e0Oj61IfVY-GJ7xgb1g&cx=011995211852339458589:ednlzjvkufu\";\n  // for github pages\n  // \"customsearch/v1?key=AIzaSyDEKjJgTJu-A2sYRnbzBwc74N93NTeRe8Q&cx=017292147882044979880:bz3csnf9fsw\";\n  // \"customsearch/v1?key=AIzaSyCWeJilGYGTyLLWuKPDIH7sBvZHvLC_KPw&cx=011995211852339458589:b6dd5lshhny\";\n  \"customsearch/v1?key=AIzaSyAXRSgcZq3L6xxBwPVtJFIKtcK8tvER13g&cx=011995211852339458589:-vcn1myonvo\";\n// \"customsearch/v1?key=AIzaSyCWeJilGYGTyLLWuKPDIH7sBvZHvLC_KPw&cx=006516764599415151560:h3y5ondgtqi\";\n\nexport { google, url };\n// AIzaSyDVuJJLMfuMBBS5e0Oj61IfVY-GJ7xgb1g\n// 011995211852339458589:ednlzjvkufu\n","import React from \"react\";\n\nclass Loader extends React.Component {\n  state = { text: \"Loading\" };\n\n  componentDidMount() {\n    this.loaderId = setInterval(() => {\n      this.state.text === \"Loading...\"\n        ? this.setState({ text: \"Loading\" })\n        : this.setState(prevState => {\n            return { text: prevState.text + \".\" };\n          });\n    }, 300);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.loaderId);\n  }\n\n  render() {\n    return (\n      <div\n        className=\"loader-frame ui segment\"\n        style={{\n          height: window.innerHeight - 40\n        }}\n      >\n        <div className=\"ui active inverted dimmer\">\n          <div className=\"ui text loader\">{this.state.text}</div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Loader;\n","import React, { Component } from \"react\";\nimport Search from \"./Search\";\nimport NavBar from \"./NavBar\";\nimport ImageList from \"./ImageList\";\nimport { google, url } from \"../api/google\";\nimport Loader from \"./Loader\";\nimport testdata from \"../testdata/data\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: \"\",\n      term: \"\",\n      requestedName: \"\",\n      selectedIndex: 0,\n      imageListWidth: 0,\n      loading: false,\n      images: [],\n      screenHeight: 0\n    };\n    this.searchButtonRef = React.createRef();\n    this.imageListRef = React.createRef();\n  }\n\n  //for test\n  // componentDidMount() {\n  //   this.setState(testdata);\n  // }\n  fixResultComponent() {\n    const imageList = document.querySelector(\".image-list\");\n    if (\n      document.documentElement.scrollHeight -\n        window.pageYOffset -\n        document.documentElement.offsetHeight >\n      10\n    ) {\n      imageList.style.overflowY = \"hidden\";\n    } else {\n      try {\n        imageList.style.overflowY = \"scroll\";\n      } catch (err) {\n        console.log(err);\n      }\n    }\n  }\n\n  componentDidMount() {\n    window.addEventListener(\"scroll\", this.fixResultComponent);\n    window.addEventListener(\"resize\", this.setImageListWidth);\n    this.setState({ screenHeight: document.documentElement.clientHeight });\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"scroll\", this.fixResultComponent);\n    window.removeEventListener(\"resize\", this.setImageListWidth);\n  }\n\n  componentDidUpdate() {\n    if (!this.imageListRef.current) {\n      return;\n    }\n    if (this.state.imageListWidth !== this.imageListRef.current.offsetWidth) {\n      this.setState({ imageListWidth: this.imageListRef.current.offsetWidth });\n    }\n    if (this.state.screenHeight !== document.documentElement.clientHeight) {\n      this.setState({ screenHeight: document.documentElement.clientHeight });\n    }\n  }\n\n  setImageListWidth = () => {\n    if (!this.imageListRef.current) {\n      return;\n    }\n    this.setState({ imageListWidth: this.imageListRef.current.offsetWidth });\n  };\n\n  isInputEmpty = () => {\n    return !this.state.term;\n  };\n\n  handleChange = e => {\n    this.setState({ [e.target.name]: e.target.value });\n    const classNames = \"ui yellow button\";\n    setTimeout(() => {\n      this.state.name || this.state.term\n        ? (this.searchButtonRef.current.className = classNames)\n        : (this.searchButtonRef.current.className = classNames + \" disabled\");\n    }, 0);\n  };\n\n  onSearchSubmit = async (start = 1, e = null) => {\n    this.setState({ loading: true });\n    let term = this.state.term;\n    try {\n      // for load more\n      if (!term) {\n        term = this.state.images[this.state.selectedIndex][0].term;\n      }\n      const response = await google.get(url, {\n        params: {\n          searchType: \"image\",\n          q: this.state.name + \"+\" + term,\n          start: start\n          //TODO: gl:\n        }\n      });\n      let data = response.data.items;\n      if (!data) {\n        throw Error;\n      }\n      let selectedIndex = this.state.selectedIndex;\n      let images = [];\n\n      if (start === 1) {\n        let newImage = [{ term: this.state.term, list: data }];\n        images = this.state.images.concat([newImage]);\n        selectedIndex = images.length - 1;\n      } else {\n        const updatedImages = this.state.images[selectedIndex][0].list.concat(\n          data\n        );\n        images = this.state.images.slice();\n        images[selectedIndex][0].list = updatedImages;\n      }\n\n      if (e && !this.state.term) {\n        return;\n      }\n      this.setState(prevState => {\n        return {\n          term: \"\",\n          selectedIndex,\n          requestedName: this.state.name,\n          loading: false,\n          images\n        };\n      });\n    } catch (e) {\n      this.setState({ loading: false, term: \"\" });\n      setTimeout(\n        () =>\n          alert(\n            `I am sorry but something went wrong... :(\\nPlease ask your server what \"${term}\" is.`\n          ),\n        100\n      );\n    }\n  };\n\n  handleSubmit = e => {\n    if (this.isInputEmpty()) {\n      alert(\"Please enter menu!\");\n      return;\n    }\n    const selectedIndex = this.state.images.findIndex(item => {\n      return item[0].term === this.state.term;\n    });\n    if (selectedIndex !== -1) {\n      this.setState({ selectedIndex, term: \"\" });\n      return;\n    }\n\n    if (this.state.requestedName !== this.state.name) {\n      this.setState({ images: [], requestedName: \"\" });\n    }\n    this.onSearchSubmit(1, e);\n  };\n\n  handleSelect = item => {\n    const index = this.state.images.findIndex(image => image[0].term === item);\n    this.setState({ selectedIndex: index });\n  };\n\n  // shouldn't work when Japanese typed\n  handleKeyDown = e => {\n    if (e.key !== \"Enter\") {\n      return;\n    }\n    this.handleSubmit();\n  };\n\n  removeNavItem = () => {\n    const selectedIndex = Math.min(\n      this.state.images.length - 2,\n      this.state.selectedIndex\n    );\n    this.setState(prevState => {\n      return {\n        images: prevState.images.filter((item, index) => {\n          return this.state.selectedIndex !== index;\n        }),\n        selectedIndex\n      };\n    });\n  };\n\n  renderResultComponents = () => {\n    const { selectedIndex, images } = this.state;\n    return (\n      <React.Fragment>\n        <NavBar\n          onSelect={this.handleSelect}\n          selectedIndex={selectedIndex}\n          imageListWidth={this.state.imageListWidth}\n          images={images}\n          onRemove={this.removeNavItem}\n        />\n        {this.state.loading && !this.state.requestedName ? (\n          <Loader />\n        ) : (\n          <ImageList\n            ref={this.imageListRef}\n            height={this.state.screenHeight - 80}\n            images={images[selectedIndex]}\n            onLoadMore={this.onSearchSubmit}\n          />\n        )}\n      </React.Fragment>\n    );\n  };\n\n  render() {\n    const { name, term } = this.state;\n    return (\n      <main>\n        <React.StrictMode>\n          <Search\n            ref={this.searchButtonRef}\n            name={name}\n            term={term}\n            onChange={this.handleChange}\n            onClick={this.handleSubmit}\n            onKeyDown={this.handleKeyDown}\n          />\n          <button\n            ref={this.searchButtonRef}\n            className=\"ui yellow button disabled\"\n            onClick={this.handleSubmit}\n          >\n            Search\n          </button>\n          {this.renderResultComponents()}\n        </React.StrictMode>\n      </main>\n    );\n  }\n}\n\nexport default App;\n","import image1 from \"./chocolatecake.jpg\";\nimport image2 from \"./lemoncake.jpg\";\nimport image3 from \"./redvelvetcake.jpg\";\nimport image4 from \"./carrotcake.jpg\";\n\nexport default {\n  navItems: [\"chocolate cake\", \"lemon cake\", \"red velvet cake\", \"carrot cake\"],\n  imageList: [\n    [image1, image1, image1],\n    [image2, image2, image2],\n    [image3, image3, image3],\n    [image4, image4, image4]\n  ]\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport \"./styles.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","module.exports = __webpack_public_path__ + \"static/media/chocolatecake.7b396a06.jpg\";","module.exports = __webpack_public_path__ + \"static/media/lemoncake.395df99b.jpg\";","module.exports = __webpack_public_path__ + \"static/media/redvelvetcake.2fc34d65.jpg\";"],"sourceRoot":""}